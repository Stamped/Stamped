/* styles.less - Main Stamped.com Stylesheet
 * 
 * NOTE: the css version of this file is auto-generated, so only edit the original 
 * less version if you don't want your changes to be overwritten.
 * 
 * Copyright (c) 2011-2012 Stamped Inc.
 */

@import "libs/h5bp.min.css";
@import "libs/elements.less";

@font-face {
    font-family: "StampedEntityFallbackFont";
    src: local("☺"),
         url(/assets/fonts/TitlingGothicFBComp-Light.otf) format("opentype");
}

@font-face {
    font-family: "StampedScreenNameFont";
    src: local("☺"),
         url(/assets/fonts/TitlingGothicFBComp-Reg.otf) format("opentype");
}

@import "http://cloud.webtype.com/css/98498264-8838-4e2c-a0a6-d68fc97fdaf3.css";
/*@import "http://pls.webtype.com/v.css?ct=10157&r=2592&p=1948&h=dQ9Z7h0SmDXhdQOSL1LjdQ%3d%3d";

@font-face {
    font-family: "StampedEntityFont";
    font-style:  normal;
    font-weight: normal;
    
    src: local("☺"), 
         url("http://wac.1ac1.edgecastcdn.net/001AC1/webtype/ff/3/ac420a8b-8858-40c1-b708-3b2674e85e29") format("woff"), 
         url(/assets/fonts/TitlingGothicFBComp-Light.otf) format("opentype");
}*/


/*
@font-face {
    font-family: "StampedButtonFont";
    src: local("☺"),
         url("/assets/fonts/TitlingGothicFBWide-Stand.otf") format("opentype");
}*/

body, html {
    width:  100%;
    height: 100%;
}

body {
    background: #fff;
    font-family: 'arial', sans-serif;
    color: #666;
    font-size: 1em;
}

a, a:focus {
    outline: 0;
}

a, a:visited {
    color: #3366cc;
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

.replaced {
    display: block;
    text-indent: -9999em;
    overflow: hidden;
}

.fullwidth {
    position: relative;
    width: 100%;
}

.fullsize {
    position: relative;
    width:  100%;
    height: 100%;
}

.floatleft {
    float: left;
}

.floatright {
    float: right;
}

footer, .fixedwidth {
    width: 940px;
    margin: 0 auto;
    position: relative;
}

header {
    .fullwidth;
    position: fixed;
    z-index: 150;
    background: #fff;
     
    .header-body {
        .fixedwidth;
        z-index: 25;
        
        p {
            float: right;
            clear: both;
            position: relative;
            
            margin: 0.5em 0.5em 0.25em 0;
            
            .desc {
                font-size: 90%;
            }
        }
        
        /* TODO: use slight background gradient instead of flat color */
        @base: #3b84eb;
        
        p.join {
            z-index: 27;
            span.desc {
                color: #438fed;
            }
            
            a.button {
                color: #fff;
                background: @base;
                .box-shadow(0, 0, 4px, 0, @base);
                .rounded(2px);
                
                &:hover {
                    @c0: lighten(@base, 10%);
                    @c1: darken(@base,  10%);
                    
                    text-decoration: none;
                    background: @c0;
                    .box-shadow(0, 0, 4px, 0, @c1);
                }
                
                &:active {
                    @c0: lighten(@base, 5%);
                    @c1: darken(@base,  25%);
                    
                    text-decoration: none;
                    background: @c1;
                    .box-shadow(0, 0, 4px, 0, @c1);
                }
            }
        }
        
        p.sign-in {
            z-index: 26;
            
            span.desc {
                color: #bbb;
            }
            
            a.button {
                .rounded(4px);
                .box-shadow(0, 0, 4px, 0, #eee);
                border: 1px solid #666;
                background: #FEFEFE;
                color: #666;
                
                &:hover {
                    @c0: lighten(@base, 10%);
                    @c1: darken(@base,  10%);
                    
                    color: #fff;
                    border-color: @c0;
                    
                    background: @c0;
                    text-decoration: none;
                    .box-shadow(0, 0, 4px, 0, @c1);
                }
                
                &:active {
                    @c0: lighten(@base, 5%);
                    @c1: darken(@base,  25%);
                    color: #fff;
                    border-color: @c1;
                    
                    background: @c1;
                    text-decoration: none;
                    .box-shadow(0, 0, 4px, 0, @c1);
                }
            }
        }
        
        a.button {
            font-family: "TitlingGothicFB", "StampedEntityFallbackFont", helvetica, sans-serif;
            letter-spacing: .1em;
            text-align: center;
            
            margin-left: .5em;
            display: inline-block;
            width: 5em;
        }
    }
}

.user-logo-large {
    position: absolute;
    
    display: block;
    top:  -75px;
    left: -125px;
    
    width:  195px;
    height: 195px;
    
    z-index: 101;
}

.user-logo-small {
    position: relative;
    
    top:  -10px;
    left: -10px;
    
    display: inline-block;
    width:  44px;
    height: 44px;
    
    z-index: 101;
}

@outer: #E5E5E5;
@inner: #FEFEFE;
@shadow: rgba(50,50,50,0.35);

.post-header {
    .fullwidth;
    .box-shadow(0, 3px, 3px, 0, @shadow);
    
    position: relative;
    display:  block;
    
    height: 16px;
}

.profile-header-wrapper {
    .fullwidth;
    
    padding: 5em 0 0;
    
    position: relative;
    top:  0;
    left: 0;
    
    .profile-header {
        .linear-gradient(left, @outer, @inner, @outer);
        /* darken the background */
        /*background-color: rgba(0, 0, 0, 0.246094);*/
        
        /* TODO: get this mask working; kind of want blend-mode multiply... */
        /*background: transparent url(/assets/img/noisemask.png) left top repeat;*/
        
        .profile-content-page {
            position: relative;
            z-index: 50;
            top:  0;
            left: 0;
            
            .profile-header-body {
                position: relative;
                top:  0;
                left: 0;
                
                .innerbg0 {
                    background: url(/assets/img/collage.940x256.jpg) no-repeat fixed left top;
                    background-size: 100%;
                    
                    position: absolute;
                    width:   100%;
                    height:  100%;
                    opacity: 0.45;
                }
                
                .profile-header-body-fixedwidth {
                    .fixedwidth;
                    
                    padding: 34px 0;
                    
                    .floatleft {
                        margin: 0 24px 0 0;
                    }
                    
                    p {
                        margin: 0;
                    }
                }
            }
            
            .profile-header-post {
                .box-shadow(0, -3px, 3px, 0, @shadow);
                
                height: 16px;
                
                .inset-stamp {
                    background: url(/assets/img/insetstamp.png) center top no-repeat;
                    text-align: center;
                    position: relative;
                    top: -75px;
                    
                    width: 167px;
                    min-height: 75px;
                    z-index: 52;
                    
                    margin: 0 auto;
                    padding: 18px 20px 0;
                    
                    .number {
                        font-family: "TitlingGothicFB", "StampedEntityFallbackFont", helvetica, sans-serif;
                        
                        font-size: 2em;
                        letter-spacing: .05em;
                        margin: 0 0 -.25em;
                    }
                    
                    p {
                        margin: 0 0 .5em;
                        color: #000;
                    }
                }
            }
        }
    }
}

.ribbon-top {
    background: url(/assets/img/ribbon-top.png) left top repeat-x;
    height: 16px;
}

.ribbon-bottom {
    background: url(/assets/img/ribbon-bottom.png) left top repeat-x;
    height: 16px;
}

.profile-image-border(@size) {
    border: @size solid #fff;
    .box-shadow(@size, @size, @size, 0, rgba(0, 0, 0, 0.15));
}

.profile-image(@size: 128px, @border: 4px) {
    .floatleft;
    
    display: block;
    width:  @size + @border * 2;
    height: @size + @border * 2;
    
    img {
        width:  @size;
        height: @size;
        
        .profile-image-border(@border);
    }
}

.profile-image-large {
    .profile-image(128px, 4px);
}

.profile-image-medium {
    .profile-image(54px,  2px);
}

.profile-image-small {
    .profile-image(24px,  2px);
}

.user-gallery {
    .user-gallery-item {
        margin: 0 4px 4px 0;
    }
    
    :nth-child(10) {
        background: url(/assets/img/user-gallery-expand.png) left top no-repeat;
        width:  24px;
        height: 24px;
        
        .profile-image-border(2px);
        
        img {
            display: none;
        }
        
        /*&:hover {
            @base: #3b84eb;
            background: lighten(@base, 10%);
        }*/
    }
    
    :nth-child(n+11) {
        display: none;
    }
}

.profile-section {
    display: none;
    
    &.profile-section-default {
        display: block;
    }
}

.profile-section0 {
    .floatleft;
    width: 35%;
}

.profile-section1, .profile-section2 {
    .floatright;
    width: 18%;
    
    .number {
        font-family: "TitlingGothicFB", "StampedEntityFallbackFont", helvetica, sans-serif;
        font-size: 2em;
        letter-spacing: .05em;
        color: #000;
    }
}

.profile-section3 {
    .floatright;
    width: 45%;
}

.bold {
    color: #333;
    font-weight: bold;
}

.italics {
    font-style: italic;
}

.shadow {
    width: 100%;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    background: #000;
    background: rgba(0,0,0,0.65);
    z-index: 100;
    display: none;
    filter: alpha(opacity=65);
}

.brand {
    background: url(/assets/img/stamped-logo.png) left top no-repeat;
    width: 180px;
    height: 180px;
    margin: -180px auto 0;
    float: none;
    position: relative;
    bottom: -197px;
}

.card {
    margin: 45px auto 0;
    padding: 0;
    width: 940px;
    background: none repeat scroll 0 0 #FFFFFF;
    border: 0 none;
    
    .box-shadow(0, 5px, 10px, rgba(0, 0, 0, 0.15));
}

.card .inner {
    clear: both;
    padding: 175px 20px .3em;
}

.card .top-wave {
    background: url(/assets/img/main-topcap.png) left top no-repeat;
    height: 8px;
    margin: 0;
}

.card .bottom-wave {
    background: url(/assets/img/main-botcap.png) left top no-repeat;
    height: 8px;
    margin: 0;
}

footer {
    margin: 30px 0;
    padding-bottom: 30px;
    position: relative;
    font-size: 12px;
    color: #999;
}

footer a {
    color: #7a9ccc;
    margin-left: 0px;
    margin-right: 15px;
    font-weight: bold;
    display: inline-block;
}

footer .copyright, footer .copyright {
    float: right;
}

footer .copyright a, footer .copyright a {
    color: #999;
    font-weight: normal;
    margin-right: 10px;
}

.smalldisplay .iphone {
    margin-top: -60px;
    position: relative;
}

.talldisplay .iphone {
    position: absolute;
    left: 50%;
    top:  50%;
    margin-left: -470px;
    margin-top:  -405px;
}

.stamp-category-book .icon {
    background: url(/assets/img/entity-type-book.png) no-repeat;
    width:  19px;
    height: 15px;
}

.stamp-category-film .icon {
    background: url(/assets/img/entity-type-film.png) no-repeat;
    width:  15px;
    height: 15px;
}

.stamp-category-food .icon {
    background: url(/assets/img/entity-type-food.png) no-repeat;
    width:  21px;
    height: 15px;
}

.stamp-category-music .icon {
    background: url(/assets/img/entity-type-music.png) no-repeat;
    width:  15px;
    height: 15px;
}

.stamp-category-other .icon, .stamp-category- .icon {
    background: url(/assets/img/entity-type-other.png) no-repeat;
    width:  12px;
    height: 15px;
}

.screen-name {
    text-transform: lowercase;
    font-family: "StampedScreenNameFont", helvetica, sans-serif;
    letter-spacing: .05em;
}

.pronounced-title a, a.pronounced-title {
    color: #000;
}

.pronounced-title {
    position: relative;
    font-family: "TitlingGothicFB", "StampedEntityFallbackFont", helvetica, sans-serif;
    font-size: 2em;
    letter-spacing: .025em;
    /*text-shadow: 0.05em 0.05em 0.03em #aaa;*/
}

.large {
    font-size: 2.2em;
}

.static-map(@size: 200px, @b: 0, @angle: 35deg, @perspective: 200px) {
    display: block;
    width: @size;
    padding: 30px;
    
    .static-map-inner {
        margin: 0 auto;
        @colsize: @size / 4;
        
        position: relative;
        display: block;
        width:  @size;
        height: @size;
        
        /*.perspective(@perspective);*/
        .transform-style(preserve-3d);
        .backface-visibility(hidden);
        
        ._section(@x) {
            /* TODO: how to dynamically change this URL depending on per-map lat, lng, and possibly zoom / size */
            /* TODO: remove this static background image */
            background: url('https://maps.googleapis.com/maps/api/staticmap?center=40.714728,-73.998672&zoom=12&sensor=false&scale=1&format=png&maptype=roadmap&size=144x144');
            background-position: -(@x * @colsize);
            
            position: absolute;
            display:  block;
            
            width:  @colsize;
            height: @size;
            
            top:  0;
            
            border: @b solid rgba(0,0,0,0.9);
            /*outline: 1px solid transparent;*/
            /*.box-shadow(2px, 2px, 2px, 0, rgba(0, 0, 0, 0.15));*/
            /*.transform-style(preserve-3d);*/
            
            .transition(all, .1s, linear);
        }
        
        .__section(@x) when (@x > 0) {
            left: @x * @colsize + @b;
        }
        .__section(@x) when (@x = 0) {
            left: @x * @colsize;
        }
        
        .section(@x) {
            ._section(@x);
            .__section(@x);
        }
        
        .r0 {
            .section(0);
            border-width: @b 0 @b @b;
            .transform(perspective(@perspective) rotateY(-@angle));
        }
        .r1 {
            .section(1);
            border-width: @b 0;
            .transform(perspective(@perspective) translate(-6px,  0) rotateY(@angle));
        }
        .r2 {
            .section(2);
            border-width: @b 0;
            .transform(perspective(@perspective) translate(-18px, 0) rotateY(-@angle));
        }
        .r3 {
            .section(3);
            border-width: @b @b @b 0;
            .transform(perspective(@perspective) translate(-23px, 0) rotateY(@angle));
        }
        .dark-layer {
            display: block;
            width:  100%;
            height: 100%;
            background: #333;
            
            .transition(opacity, .1s, ease-in-out);
            opacity: 0.10;
        }
        
        .pin {
            background: url(/assets/img/pin_shadow.png);
            
            position: absolute;
            top:  50%;
            left: 50%;
            margin: -9px auto auto 0;
            
            display: block;
            width:  24px;
            height: 18px;
            
            &:hover {
                cursor: pointer;
            }
            
            .pin-inner {
                background: url(/assets/img/pin.png);
                
                position: relative;
                top:  -16px;
                left: -10px;
                
                display: block;
                width:  26px;
                height: 36px;
            }
            
            .transition(all, .1s, linear);
            .transform(perspective(@perspective) translate(-15px, 0));
        }
    }
    
    &:hover {
        /*cursor: pointer;*/
        .r0, .r1, .r2, .r3, .pin {
            .transform(translateZ(0));
        }
        .dark-layer {
            opacity: 0;
        }
    }
}

.static-map-small {
    .static-map(200px, 2px, 35deg, 200px);
}

.active() {
    opacity: 1;
}

#stamp-category-nav-bar {
    position: fixed;
    display:  block;
    z-index: 1000;
    
    background: #262626;
    .rounded(8px);
    .box-shadow(0, 0, 4px, 0, @shadow);
    
    top:   50%;
    right: 40px;
    margin: -180px 0 0;
    padding: 0;
    
    ol {
        text-decoration: none;
        list-style: none;
        text-indent: 0;
        padding: 0;
        margin: 0;
        
        li {
            position: relative;
            
            a {
                background: url(/assets/img/sidenav_sprite.png) no-repeat -192px 0;
                
                text-align: center;
                display: block;
                width:  60px;
                height: 60px;
                margin:  6px 0;
                
                position: relative;
                z-index: 1000;
                
                opacity: 0;
                .transition(opacity, .6s, ease-in-out);
            }
            
            div {
                background: url(/assets/img/sidenav_sprite.png) no-repeat;
                position: absolute;
                left: 14px;
                top: 14px;
                
                display: block;
                width:  32px;
                height: 32px;
                
                z-index: 999;
            }
        }
        
        a:hover {
            opacity: 1;
            /*background-position: -252px 0;*/
        }
        a:active {
            .active();
        }
        
        li.default div {
            background-position: 0 0;
        }
        
        li.place div {
            background-position: -32px 0;
        }
        
        li.music div {
            background-position: -64px 0;
        }
        
        li.book div {
            background-position: -96px 0;
        }
        
        li.film div {
            background-position: -128px 0;
        }
        
        .other div {
            background-position: -160px 0;
        }
    }
}

body.default    #stamp-category-nav-bar ol li.default, 
body.place      #stamp-category-nav-bar ol li.place, 
body.music      #stamp-category-nav-bar ol li.music, 
body.book       #stamp-category-nav-bar ol li.book, 
body.film       #stamp-category-nav-bar ol li.film, 
body.other      #stamp-category-nav-bar ol li.other {
    a, a:hover {
        .active();
        
        pointer-events: none;
        cursor: default;
    }
}

